import{r as d,u as f,j as e,g as i,c as b,L as m}from"./index-89147f3e.js";import{C as u}from"./ChartDurationFilter-22e88437.js";import{C as j,B as g}from"./chart-fa93cbbd.js";import{A as y}from"./apexcharts.common-153f1302.js";import{T as v,P as N}from"./TableFilter-ff9fee1b.js";import{B as h,a as w}from"./tables-1eb894b7.js";function k({height:s,data:n}){const t=d.useRef(null),{mode:a}=f();d.useEffect(()=>{const l=r();return()=>{l&&l.destroy()}},[t,a]);const r=()=>{if(!t.current)return;const l=new y(t.current,C(n,s));return l&&l.render(),l};return e.jsx("div",{ref:t,style:{width:"100%"},id:"kt_charts_widget_1_chart"})}function C(s,n){const t=i("--bs-gray-500"),a=i("--bs-gray-200"),r="#219653",l=i("--bs-gray-300"),c=Object.keys(s),x=c.map(o=>s[o].value1),p=c.map(o=>s[o].value2);return{series:[{name:"value1",data:x},{name:"value2",data:p}],chart:{fontFamily:"inherit",type:"bar",height:n,width:"100%",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25%",borderRadius:6}},legend:{show:!1},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:c,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:t,fontSize:"12px"}}},yaxis:{labels:{style:{colors:t,fontSize:"12px"}}},fill:{opacity:1},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(o){return"$"+o+" thousands"}}},colors:[r,l],grid:{borderColor:a,strokeDashArray:4,yaxis:{lines:{show:!0}}}}}function T(){return e.jsxs("div",{className:"card rounded-5 shadow-sm p-9",style:{borderRadius:12},children:[e.jsxs("div",{className:"d-flex justify-content-between  align-items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"KPI филиалов"}),e.jsx("span",{children:"Показано 6 филиалов"})]}),e.jsxs("div",{className:"d-flex flex-row gap-7",children:[e.jsx(u,{}),e.jsxs("select",{className:"form-select form-select-solid form-select-lg",name:"city",children:[e.jsx("option",{value:"",children:"Выберите регион/город"}),Object.keys(j).map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsx("div",{className:"d-flex ",style:{marginTop:50,gap:50},children:e.jsx(k,{data:g,height:286})})]})}function B(s){const{data:n,columns:t}=s;return e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle gs-0 gy-4",children:[e.jsx("thead",{children:t.map((a,r)=>e.jsx("th",{className:b("min-w-150px fw-bolder text-dark bg-light",!r&&"rounded-start ps-4",r===t.length-1&&"rounded-end"),style:{fontSize:16},children:a.label},a.key))}),e.jsx("tbody",{children:n.map((a,r)=>e.jsxs("tr",{style:{borderTop:r?"1px dashed #E1E3EA":"",cursor:"pointer"},children:[e.jsxs("td",{children:[e.jsx("span",{className:"text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6",children:a.name}),e.jsx("span",{className:"text-gray-500 fw-bold text-hover-primary d-block mb-1 fs-6",children:a.address})]}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6",children:a.region})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6",children:a.city})}),e.jsx("td",{className:"text-end",children:e.jsx(m,{to:`/branches/${a.id}`,className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:"Редактировать"})})]}))})]})})}function S({data:s}){return e.jsxs("div",{className:"card shadow-sm border-0",style:{borderRadius:12},children:[e.jsxs("div",{className:"card-header border-0 pt-5",children:[e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"Филиалы"}),e.jsx("span",{className:"text-muted mt-1 fw-semibold fs-7",children:`Найдено ${s.length} элементов`})]}),e.jsxs("div",{className:"card-toolbar",children:[e.jsxs("div",{className:"d-flex align-items-center position-relative me-4",children:[e.jsxs("i",{className:"ki-duotone ki-magnifier fs-3 position-absolute ms-3",children:[e.jsx("span",{className:"path1"}),e.jsx("span",{className:"path2"})]}),e.jsx("input",{type:"text",id:"kt_filter_search",className:"form-control form-control-white form-control-sm w-150px ps-9",placeholder:"Поиск"})]}),e.jsx(v,{columns:h,onFilter:n=>console.log(n)}),e.jsx(m,{to:"/branches/add",className:"btn btn-sm btn-warning me-3 mt-3 mt-sm-0",children:"Добавить филиал"})]})]}),e.jsxs("div",{className:"card-body",style:{paddingTop:30},children:[e.jsx(B,{data:s,columns:h}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(N,{pages:2,currentPage:0})})]})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-100 position-absolute top-0 d-none d-sm-block",style:{height:70,backgroundColor:i("--bs-app-header-minimize-bg-color"),left:0}}),e.jsx("div",{style:{maxWidth:1160,transform:"translateY(-30px)"},className:"mx-auto",children:e.jsx(T,{})}),e.jsx("div",{style:{maxWidth:1160,marginTop:10},className:"mx-auto",children:e.jsx(S,{data:w})})]})}export{_ as default};
